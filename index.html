<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MetLab Testing and Analysis Services</title>
  <meta name="description" content="Mechanical, Metallurgical & Corrosion Testing — MetLab" />
  <style>
    /* Simple, modern responsive styling */
    :root{--accent:#0b5cff;--muted:#666;--card:#fff;--bg:#f4f6f8}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;line-height:1.45;margin:0;color:#222;background:var(--bg)}
    header{background:#fff;border-bottom:1px solid #e6e9ee;position:sticky;top:0;z-index:20}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    nav{display:flex;align-items:center;justify-content:space-between}
    .brand{font-weight:700;letter-spacing:.3px}
    .navlinks a{margin-left:18px;text-decoration:none;color:var(--muted);font-weight:600}
    .hero{display:flex;gap:24px;align-items:center;padding:36px 0}
    .hero-left{flex:1}
    .hero h1{margin:0 0 8px;font-size:28px}
    .hero p{margin:0 0 16px;color:var(--muted)}
    .cta{background:var(--accent);color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:18px}
    .card{background:var(--card);padding:14px;border-radius:10px;box-shadow:0 6px 18px rgba(15,25,40,.05)}
    h2.section{margin-top:28px}
    footer{padding:28px 0;color:var(--muted)}
    /* Forms */
    form{display:grid;gap:10px}
    input,textarea,select,button{padding:10px;border-radius:8px;border:1px solid #dde4ee}
    textarea{min-height:120px}
    .two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:720px){.hero{flex-direction:column}.two-col{grid-template-columns:1fr}}
    /* small utility */
    .muted{color:var(--muted)}
    .success{background:#e6ffef;border-left:4px solid #1fa04a;padding:10px;border-radius:6px}
    .danger{background:#fff0f0;border-left:4px solid #e04a4a;padding:10px;border-radius:6px}
    .linklike{background:none;border:none;color:var(--accent);text-decoration:underline;cursor:pointer}
    /* client portal modal */
    .portal{background:linear-gradient(180deg,#fff,#fbfdff);padding:18px;border-radius:10px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand"><img src="images/logo.png" alt="MetLab logo" class="logo"></div>

        <div class="navlinks">
          <a href="#about">About</a>
          <a href="#capabilities">Capabilities</a>
          <a href="#contact">Contact</a>
          <a href="#careers">Careers</a>
          <a href="#feedback">Feedback</a>
          <a href="#portal" class="cta">Client Portal</a>
        </div>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero" id="home">
      <div class="hero-left">
        <h1>Reliable Mechanical, Metallurgical & Corrosion Testing</h1>
        <p class="muted">Local laboratory support for Qatar’s oil & gas, marine, rail, and manufacturing sectors — precision testing, fast turnaround, accredited processes.</p>
        <a class="cta" href="#capabilities">Explore Testing Capabilities</a>

        <div class="cards">
          <div class="card"><strong>Fast Turnaround</strong><div class="muted">Streamlined workflows for quicker results</div></div>
          <div class="card"><strong>Accurate Reports</strong><div class="muted">Clear, detailed test reports suitable for certification</div></div>
          <div class="card"><strong>Secure Client Portal</strong><div class="muted">Private access to your reports via OTP-based access</div></div>
        </div>
      </div>
      <div class="hero-right" style="width:360px">
        <div style="background:#fff;padding:18px;border-radius:10px;box-shadow:0 10px 30px rgba(12,18,30,.06)">
          <strong>Quick Contact</strong>
          <p class="muted">Send us a message and we'll get back within 24–48 hours.</p>
          <form id="contactForm">
            <input type="text" name="name" placeholder="Your name" required />
            <input type="email" name="email" placeholder="Your email" required />
            <input type="text" name="subject" placeholder="Subject" />
            <button type="submit">Send Message</button>
          </form>
          <div id="contactResult" style="margin-top:8px"></div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <h2 class="section">About MetLab</h2>
      <div class="card">
        <p><strong>MetLab Testing and Analysis Services</strong> is a proudly Qatari-owned materials testing laboratory, established to meet the growing technical demands of the nation’s industrial sector. We specialize in corrosion testing, mechanical testing, Coating tests and metallurgical analysis — providing accurate results that empower engineering and quality assurance teams across Qatar.
At MetLab, we are deeply committed to supporting Qatar’s national interests by offering high-quality, services. Our operations are aligned with the Qatar National Vision 2030, contributing to the country’s industrial self-reliance, safety, and sustainability goals.
Driven by precision, integrity, and technical excellence, MetLab strives to be a trusted partner to the oil & gas, petrochemical, marine, and manufacturing industries. We combine advanced testing equipment with a skilled technical team to deliver fast, accurate, and internationally recognized results.
Our purpose extends beyond testing — we aim to strengthen Qatar’s industrial foundation, support innovation, and uphold the highest standards of reliability and service excellence.
.</p>
      </div>
    </section>

    <!-- CAPABILITIES -->
    <section id="capabilities">
      <h2 class="section">Testing Capabilities</h2>
      <div class="cards">
        <div class="card">
          <h3>Mechanical Testing</h3>
          <ul>
            <li>Tensile testing</li>
            <li>Charpy impact</li>
            <li>Hardness (Rockwell, Vickers, Brinell)</li>
            <li>Fatigue & fracture mechanics (on request)</li>
          </ul>
        </div>
        <div class="card">
          <h3>Metallurgical Analysis</h3>
          <ul>
            <li>Microstructure & optical microscopy</li>
            <li>SEM & EDS (partnered / on request)</li>
            <li>Failure analysis & fractography</li>
          </ul>
        </div>
        <div class="card">
          <h3>Corrosion Testing</h3>
          <ul>
            <li>Salt spray (ASTM B117)</li>
            <li>Electrochemical testing (potentiodynamic)</li>
            <li>Stress corrosion & environment simulation</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <h2 class="section">Contact & Location</h2>
      <div class="two-col">
        <div class="card">
          <h4>Office</h4>
          <p class="muted">Doha, Qatar — exact address to be added</p>
          <p><strong>Email:</strong> <span class="muted">(configure in settings)</span></p>
          <p><strong>Phone:</strong> <span class="muted">+974 - - - - -</span></p>
        </div>
        <div class="card">
          <h4>Send a message</h4>
          <!-- Feedback/Contact forms are configured to POST to an endpoint. See instructions in the file comments to connect to Formspree or your backend. -->
          <form id="messageForm">
            <input type="text" name="name" placeholder="Full name" required />
            <input type="email" name="email" placeholder="Email" required />
            <input type="text" name="phone" placeholder="Phone (optional)" />
            <textarea name="message" placeholder="Your message or testing inquiry" required></textarea>
            <button type="submit">Send</button>
          </form>
          <div id="messageResult"></div>
        </div>
      </div>
    </section>

    <!-- CAREERS -->
    <section id="careers">
      <h2 class="section">Careers</h2>
      <div class="card">
        <p class="muted">We're building a small technical team. If you're interested, submit your CV and a short message below.</p>
        <form id="careersForm">
          <input type="text" name="name" placeholder="Full name" required />
          <input type="email" name="email" placeholder="Email" required />
          <input type="text" name="position" placeholder="Position of interest" required />
          <textarea name="cvtext" placeholder="Paste short CV or message (or attach after initial contact)"></textarea>
          <button type="submit">Submit Application</button>
        </form>
        <div id="careersResult"></div>
      </div>
    </section>

    <!-- FEEDBACK -->
    <section id="feedback">
      <h2 class="section">Feedback & New Test Requests</h2>
      <div class="card">
        <form id="feedbackForm">
          <input type="text" name="name" placeholder="Your name" required />
          <input type="email" name="email" placeholder="Your email" required />
          <select name="type" required>
            <option value="">Select type</option>
            <option value="positive">Positive feedback</option>
            <option value="negative">Negative feedback</option>
            <option value="newtest">Request new test / inquiry</option>
          </select>
          <textarea name="message" placeholder="Tell us about it" required></textarea>
          <button type="submit">Send Feedback</button>
        </form>
        <div id="feedbackResult"></div>
      </div>
    </section>

    <!-- CLIENT PORTAL -->
    <section id="portal">
      <h2 class="section">Client Report Portal (OTP-secured)</h2>
      <div class="portal">
        <p class="muted">Enter your report number. An OTP will be sent to the email registered with that report. After verifying the OTP, the report will be available for download as a PDF.</p>

        <div style="max-width:520px">
          <form id="portalForm">
            <input type="text" id="reportNo" placeholder="Report number" required />
            <button type="button" id="requestOtp">Request OTP</button>
          </form>

          <div id="otpSection" style="margin-top:12px;display:none">
            <input type="text" id="otpInput" placeholder="Enter OTP" />
            <button id="verifyOtp">Verify OTP</button>
          </div>

          <div id="portalResult" style="margin-top:12px"></div>
        </div>

        <details style="margin-top:12px"><summary>How this works (demo mode)</summary>
          <p class="muted">This single-file site includes a demo flow for the OTP portal so you can see how it behaves without a backend. To make this work in production you'll need a small server (Node.js/Express or similar) which:</p>
          <ol>
            <li>Looks up the email address associated with the provided report number in a secure database.</li>
            <li>Generates an OTP and sends it to the client's email (using an SMTP provider or transactional-mail API).</li>
            <li>Exposes an endpoint to verify the OTP and, if correct, returns a secure link to the PDF (or streams it).
            </li>
          </ol>
          <p class="muted">I included a minimal server example in the comments at the top of the file with code you can copy. See the top of this HTML file for the example server and deployment notes.</p>
        </details>
      </div>
    </section>

    <footer>
      <div class="container">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
          <div>© MetLab Testing and Analysis Services</div>
          <div class="muted">Built as a starter site — configure email endpoints & domain before going live.</div>
        </div>
      </div>
    </footer>
  </main>

  <script>
    /* ======= NOTE =======
       This file is a complete single-file starter website. Two important production steps you must do before going live:
        1) Configure a form endpoint (Formspree / Netlify Forms / your own backend) and replace the placeholder sendForm() function's endpoint.
        2) Implement a backend for the Client Portal (OTP). For testing/demo, the portal includes a demo flow which shows the OTP on-screen.

       See the top of the file comments in the canvas for a sample Node.js (Express) server code to handle OTP generation and report serving.
    =====================*/

    // Generic helper to POST form data — by default this demo just shows success. Replace 'endpoint' to enable emails.
    async function sendForm(formEl, resultEl, endpoint=''){
      const data = Object.fromEntries(new FormData(formEl).entries());
      const resEl = document.getElementById(resultEl);
      if(!endpoint){
        // demo behaviour: show success and log payload
        console.log('Form payload (demo):', data);
        resEl.innerHTML = '<div class="success">Message captured (demo). Configure an endpoint to send real emails.</div>';
        formEl.reset();
        return;
      }

      try{
        const resp = await fetch(endpoint, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
        if(resp.ok){
          resEl.innerHTML = '<div class="success">Sent successfully.</div>';
          formEl.reset();
        } else {
          const t = await resp.text();
          resEl.innerHTML = '<div class="danger">Send failed. '+resp.status+' '+t+'</div>';
        }
      }catch(e){
        console.error(e);
        resEl.innerHTML = '<div class="danger">Network error sending form.</div>';
      }
    }

    // Wire the forms to demo sendForm (no endpoint configured by default)
    document.getElementById('contactForm').addEventListener('submit', e=>{e.preventDefault(); sendForm(e.target,'contactResult');});
    document.getElementById('messageForm').addEventListener('submit', e=>{e.preventDefault(); sendForm(e.target,'messageResult');});
    document.getElementById('careersForm').addEventListener('submit', e=>{e.preventDefault(); sendForm(e.target,'careersResult');});
    document.getElementById('feedbackForm').addEventListener('submit', e=>{e.preventDefault(); sendForm(e.target,'feedbackResult');});

    // Client portal demo logic
    const requestBtn = document.getElementById('requestOtp');
    const verifyBtn = document.getElementById('verifyOtp');
    requestBtn.addEventListener('click', async ()=>{
      const reportNo = document.getElementById('reportNo').value.trim();
      const result = document.getElementById('portalResult');
      if(!reportNo){ result.innerHTML = '<div class="danger">Enter a report number.</div>'; return; }

      // In production: call your server: POST /api/request-otp { reportNo }
      // Server will look up the client's email, send OTP to that email and return success.
      // This demo will generate a fake OTP and display it on-screen (for demo only).

      const demoOtp = Math.floor(100000 + Math.random()*900000).toString();
      // store OTP in sessionStorage for demo verification
      sessionStorage.setItem('demoOtp_'+reportNo, demoOtp);
      result.innerHTML = '<div class="success">Demo OTP generated and displayed for testing.</div><div class="muted">(In production the OTP would be emailed.)</div><div style="margin-top:8px"><strong>DEMO OTP: '+demoOtp+'</strong></div>';
      document.getElementById('otpSection').style.display='block';
    });

    verifyBtn.addEventListener('click', ()=>{
      const reportNo = document.getElementById('reportNo').value.trim();
      const otp = document.getElementById('otpInput').value.trim();
      const result = document.getElementById('portalResult');
      if(!reportNo || !otp){ result.innerHTML = '<div class="danger">Provide report number and OTP.</div>'; return; }
      const stored = sessionStorage.getItem('demoOtp_'+reportNo);
      if(stored && stored===otp){
        result.innerHTML = '<div class="success">OTP verified. <a href="#" onclick="alert(\'This would download the report (server required).\')">Download report</a></div>';
      } else {
        result.innerHTML = '<div class="danger">OTP not valid. In production please check email or request a new OTP.</div>';
      }
    });
  </script>
</body>
</html>
